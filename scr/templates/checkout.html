{% extends "base.html" %}

{% block title %}Finalizar Compra{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>üõí Finalizar Compra</h2>
    <hr>

    <form action="{{ url_for('procesar_checkout') }}" method="POST">

        <h4>Direcci√≥n de Env√≠o</h4>
        <select name="direccion_envio" class="form-control" required>
            {% for direccion in direcciones %}
            <option value="{{ direccion.id }}">
                {{ direccion.nombre_direccion }} - {{ direccion.ciudad }} ({{ direccion.pais }})
            </option>
            {% endfor %}
        </select>

        <hr>
        <h4>M√©todo de Pago</h4>
        <select name="metodo_pago" class="form-control" required>
            <option value="Tarjeta Cr√©dito">Tarjeta de Cr√©dito</option>
            <option value="Tarjeta D√©bito">Tarjeta D√©bito</option>
            <option value="Nequi">Nequi</option>
            <option value="Daviplata">Daviplata</option>
            <option value="Contraentrega">Pago Contraentrega</option>
        </select>

        <hr>
        <h4>Proveedor Log√≠stico</h4>
        <select name="proveedor_logistico" class="form-control" required>
            <option value="Servientrega">Servientrega</option>
            <option value="Interrapid√≠simo">Interrapid√≠simo</option>
            <option value="Coordinadora">Coordinadora</option>
            <option value="Envia">Env√≠a</option>
        </select>

        <hr>
        <h3>Total: ${{ "{:,.2f}".format(total) }}</h3>
        <button type="submit" class="btn btn-success mt-3">Confirmar Pedido</button>
    </form>
</div>
{% endblock %}
